2019-11-11 21:54:16.533  INFO 26293 --- [           main] c.example.jwttest.JwtTestApplicationKt   : Starting JwtTestApplicationKt on UbuntuMachine with PID 26293 (/home/rpa/IdeaProjects/jwt-test/out/production/classes started by rpa in /home/rpa/IdeaProjects/jwt-test)
2019-11-11 21:54:16.535  INFO 26293 --- [           main] c.example.jwttest.JwtTestApplicationKt   : No active profile set, falling back to default profiles: default
2019-11-11 21:54:17.161  INFO 26293 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-11-11 21:54:17.210  INFO 26293 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 1 repository interfaces.
2019-11-11 21:54:18.343  INFO 26293 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8077
2019-11-11 21:54:18.346  INFO 26293 --- [           main] c.example.jwttest.JwtTestApplicationKt   : Started JwtTestApplicationKt in 2.079 seconds (JVM running for 2.596)
2019-11-11 21:54:18.348  INFO 26293 --- [           main] c.e.j.listener.ApplicationReadyListener  : Start generating key pairs ...
2019-11-11 21:54:18.718  INFO 26293 --- [           main] c.e.j.listener.ApplicationReadyListener  : Generating key pairs completed
2019-11-11 21:54:22.939  INFO 26293 --- [or-http-epoll-3] c.e.j.r.SecurityContextRepository        : [SecurityContextRepository] fun load(exchange: ServerWebExchange): Mono<SecurityContext> method
2019-11-11 21:54:22.940  INFO 26293 --- [or-http-epoll-3] c.e.j.r.SecurityContextRepository        : exchange.getPrincipal<Principal>() = MonoEmpty
2019-11-11 21:54:22.940  INFO 26293 --- [or-http-epoll-3] c.e.j.r.SecurityContextRepository        : [SecurityContextRepository] val auth: Authentication = UsernamePasswordAuthenticationToken(token, token) is: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1f: Principal: eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhMGVlYmM5OS05YzBiLTRlZjgtYmI2ZC02YmI5YmQzODBhMTEiLCJyb2xlcyI6WyJST0xFX1VTRVIiXSwiaWF0IjoxNTczNTA1NTc0LCJleHAiOjE1NzM1NDE1NzR9.htSNngy5ZqvsEXl0hmWm1oVtGYM5uRpeIh_joyfjdpHTecIgyk7ohjzVi4wxwSNyHA_QuM74iwinu0OBypCEaw9o7W_4iaagqVSNicqgnD5AOqJ1UVKYm-KfVxZ9UgQ-GsVuVKjLWr_QvgTJLawEnDsu7f8Mc9HpTDpMDLI6A-GRN0Wq5Xg6vkJtWiMtOzv13rk6dATcxeFRiHhI6kKZ-9ouSt-S_uBU6wHEFLnNg6KqdKpxsgqE9wiI2vgdfxfU-GXXyvRYTVzg4lsesbyYA0Ggkzxw5AtHTCBn3NCClbdr-j3R6nAxIFiwLm1AylENRls2XDoZ1qbai1d9VYqq0A; Credentials: [PROTECTED]; Authenticated: false; Details: null; Not granted any authorities
2019-11-11 21:54:22.940  INFO 26293 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] fun authenticate(authentication: Authentication): Mono<Authentication> method
2019-11-11 21:54:22.940  INFO 26293 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] token = eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhMGVlYmM5OS05YzBiLTRlZjgtYmI2ZC02YmI5YmQzODBhMTEiLCJyb2xlcyI6WyJST0xFX1VTRVIiXSwiaWF0IjoxNTczNTA1NTc0LCJleHAiOjE1NzM1NDE1NzR9.htSNngy5ZqvsEXl0hmWm1oVtGYM5uRpeIh_joyfjdpHTecIgyk7ohjzVi4wxwSNyHA_QuM74iwinu0OBypCEaw9o7W_4iaagqVSNicqgnD5AOqJ1UVKYm-KfVxZ9UgQ-GsVuVKjLWr_QvgTJLawEnDsu7f8Mc9HpTDpMDLI6A-GRN0Wq5Xg6vkJtWiMtOzv13rk6dATcxeFRiHhI6kKZ-9ouSt-S_uBU6wHEFLnNg6KqdKpxsgqE9wiI2vgdfxfU-GXXyvRYTVzg4lsesbyYA0Ggkzxw5AtHTCBn3NCClbdr-j3R6nAxIFiwLm1AylENRls2XDoZ1qbai1d9VYqq0A
2019-11-11 21:54:22.981  INFO 26293 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] username from token's Claims: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
2019-11-11 21:54:22.982  INFO 26293 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] roles from token's Claims: [ROLE_USER]
2019-11-11 21:54:22.982  INFO 26293 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] val auth: UsernamePasswordAuthenticationToken = UsernamePasswordAuthenticationToken(username, username, authorities):
2019-11-11 21:54:22.982  INFO 26293 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : org.springframework.security.authentication.UsernamePasswordAuthenticationToken@441d0230: Principal: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER

A access denied (bo inna rola w security config)...

NEXT:

/usr/lib/jvm/java-11-oracle/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:/home/rpa/Downloads/idea-IU-183.5912.21/lib/idea_rt.jar=35857:/home/rpa/Downloads/idea-IU-183.5912.21/bin -Dfile.encoding=UTF-8 -classpath /home/rpa/IdeaProjects/jwt-test/out/production/classes:/home/rpa/IdeaProjects/jwt-test/out/production/resources:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot.experimental/spring-boot-starter-data-r2dbc/0.1.0.M2/bf2abbec89295db7ee3e6e940fa842e77dcc68f7/spring-boot-starter-data-r2dbc-0.1.0.M2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-webflux/2.2.0.RELEASE/da66caa9aea96f8f8629fa49ccd6b77d06aa2d14/spring-boot-starter-webflux-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-security/2.2.0.RELEASE/143c94d6a0a96e640f98d96ecfe3b57133d242c7/spring-boot-starter-security-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-kotlin/2.10.0/7cd439e5302038cf181c6ae9bb19f8a21eae83f9/jackson-module-kotlin-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.3.50/b499f22fd7c3e9c2e5b6c4005221fa47fc7f9a7a/kotlin-reflect-1.3.50.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.3.50/bf65725d4ae2cf00010d84e945fcbc201f590e11/kotlin-stdlib-jdk8-1.3.50.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-reactor/1.3.2/3bcb9d9ac83c989937777d1a733f1aabc7c2af3c/kotlinx-coroutines-reactor-1.3.2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.flywaydb/flyway-core/6.0.6/d1a9e4e7c9116efb2782f95705ad8f3406921b3c/flyway-core-6.0.6.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.jsonwebtoken/jjwt/0.9.1/54d2abfc3e63a28824d35bf600d6a5d627da681a/jjwt-0.9.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/javax.xml.bind/jaxb-api/2.3.0/99f802e0cb3e953ba3d6e698795c4aeb98d37c48/jaxb-api-2.3.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-json/2.2.0.RELEASE/72459189c5a602f1e651c8e2a4547889dc691139/spring-boot-starter-json-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-validation/2.2.0.RELEASE/ab315d2930808b87908be42e19f64a1d5afbb012/spring-boot-starter-validation-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter/2.2.0.RELEASE/47b669895fc0e5bb8e5a54b7171029223f899cde/spring-boot-starter-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot.experimental/spring-boot-autoconfigure-r2dbc/0.1.0.M2/df4314b1b87d3f7d6452632d959d3878c814d32b/spring-boot-autoconfigure-r2dbc-0.1.0.M2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.r2dbc/r2dbc-postgresql/0.8.0.RC2/8bc14d001aba167a9fea3cdfc5f871e846df8ed3/r2dbc-postgresql-0.8.0.RC2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.data/spring-data-r2dbc/1.0.0.RC1/ec9ef23906d02256d3783832a823ac06d6f6d365/spring-data-r2dbc-1.0.0.RC1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.r2dbc/r2dbc-pool/0.8.0.RC2/63b60ea084a27d76b9da950e79bfc2681200556d/r2dbc-pool-0.8.0.RC2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.r2dbc/r2dbc-spi/0.8.0.RC2/84b74b548e26ce97cd831e9d6e2d30e9ad712ef5/r2dbc-spi-0.8.0.RC2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-reactor-netty/2.2.0.RELEASE/dbe159a3edef812e4ffecdf6b0637238ac9ec674/spring-boot-starter-reactor-netty-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webflux/5.2.0.RELEASE/f97918a5fdf093224399c6be8da92baf3665f143/spring-webflux-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.security/spring-security-web/5.2.0.RELEASE/a9ff06ad3fd66cd08545e1a601c66d2256c86e0f/spring-security-web-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-web/5.2.0.RELEASE/d5b064196dc014519e751df549b4cc6a753fb191/spring-web-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.synchronoss.cloud/nio-multipart-parser/1.1.0/c6c417fec6612584b1c34d4dd98c5a4e47e8c754/nio-multipart-parser-1.1.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.security/spring-security-config/5.2.0.RELEASE/1f6c413187a55017debb836da9ff44e8e0b7f6c/spring-security-config-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-autoconfigure/2.2.0.RELEASE/1b3304eec25bb9860bd091a31133e3fe139fcab6/spring-boot-autoconfigure-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-test/2.2.0.RELEASE/f6fbe905903b46c78969ac4ddf24b7bf25dffce5/spring-boot-test-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.2.0.RELEASE/1fab3cd45761bf4ee500cfa3bbb2812648014ad0/spring-boot-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.data/spring-data-relational/1.1.0.RELEASE/7879f1d62a2e6d485e18db292bd971250b098b8e/spring-data-relational-1.1.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.security/spring-security-core/5.2.0.RELEASE/1c8f36e316a74c245073ce2a70bdf198a58424f6/spring-security-core-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-context/5.2.0.RELEASE/a2638a8295f13ed8511c98a2379507677e1d16fa/spring-context-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aop/5.2.0.RELEASE/7031d44f063ea68e49b881a985967e7f2c144f3b/spring-aop-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jdk8/2.10.0/ac9b5e4ec02f243c580113c0c58564d90432afaa/jackson-datatype-jdk8-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jsr310/2.10.0/946bcb4b3ba9facfb338b1d48c2606225205a70c/jackson-datatype-jsr310-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-parameter-names/2.10.0/d7ae5421ab27486429aeb878b7e3937544d9324a/jackson-module-parameter-names-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.10.0/1127c9cf62f2bb3121a3a2a0a1351d251a602117/jackson-databind-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-annotations/2.10.0/e01cfd93b80d6773b3f757c78e756c9755b47b81/jackson-annotations-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.3.50/50ad05ea1c2595fb31b800e76db464d08d599af3/kotlin-stdlib-jdk7-1.3.50.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-reactive/1.3.2/898d7aeb457d8b640912c43fcd8b511f17d3a62a/kotlinx-coroutines-reactive-1.3.2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core/1.3.2/c14f0ab931be503b44a600693df8b3f67b0af0f3/kotlinx-coroutines-core-1.3.2.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.50/b529d1738c7e98bbfa36a4134039528f2ce78ebf/kotlin-stdlib-1.3.50.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.projectreactor.netty/reactor-netty/0.9.0.RELEASE/f0a0ae4e38ad8b36596ffe4bf82519cf8fc4adfb/reactor-netty-0.9.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.projectreactor.addons/reactor-pool/0.1.0.RELEASE/3aa0e33a1647a85e94bea47d7efb57c46977c71a/reactor-pool-0.1.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.projectreactor/reactor-core/3.3.0.RELEASE/4824f980e5696e95289d5fb0de62e3d34508b358/reactor-core-3.3.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-logging/2.2.0.RELEASE/d41e211e1d8705754635b698a7bf9ab9ff196a5f/spring-boot-starter-logging-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/jakarta.annotation/jakarta.annotation-api/1.3.5/59eb84ee0d616332ff44aba065f3888cf002cd2d/jakarta.annotation-api-1.3.5.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework.data/spring-data-commons/2.2.0.RELEASE/6e330579a6a3cd68c796cace51b6bcc1b48f1f67/spring-data-commons-2.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.2.0.RELEASE/630fdb60bb48ceb7274fbf69b4082a0b5d684bc0/spring-tx-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.ongres.scram/client/2.1/4ab4f013dce4ce2bdf315e3cfef529bdc2b6a5d1/client-2.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-beans/5.2.0.RELEASE/3ae97694618c59e6af695a15e54fabb7e319776/spring-beans-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-expression/5.2.0.RELEASE/ac6a616451129e717979f18d2bff40528698a46e/spring-expression-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.2.0.RELEASE/e0e1b3c304f70ed19d7905975f6f990916ada219/spring-core-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.synchronoss.cloud/nio-stream-storage/1.1.3/986dba5f6e5eed20f0dba6ddc8e8a64a9ebdc2f3/nio-stream-storage-1.1.3.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.3/7c4f3c474fb2c041d8028740440937705ebb473a/logback-classic-1.2.3.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-to-slf4j/2.12.1/dfb42ea8ce1a399bcf7218efe8115a0b7ab3788a/log4j-to-slf4j-2.12.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.slf4j/jul-to-slf4j/1.7.28/c6f06c420ad62d3824b38a06dfdce9fb55ba81ef/jul-to-slf4j-1.7.28.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.28/2cd9b264f76e3d087ee21bfc99305928e1bdb443/slf4j-api-1.7.28.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.reactivestreams/reactive-streams/1.0.3/d9fb7a7926ffa635b3dcaa5049fb2bfa25b3e7d0/reactive-streams-1.0.3.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.glassfish/jakarta.el/3.0.3/dab46ee1ee23f7197c13d7c40fce14817c9017df/jakarta.el-3.0.3.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/jakarta.validation/jakarta.validation-api/2.0.1/5a864a58587cd76243b8ec55dd7115c9eac25c08/jakarta.validation-api-2.0.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.hibernate.validator/hibernate-validator/6.0.17.Final/af73055fc4a103ab347c56e7da5a143d68a0170/hibernate-validator-6.0.17.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-core/2.10.0/4e2c5fa04648ec9772c63e2101c53af6504e624e/jackson-core-2.10.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.50/3d9cd3e1bc7b92e95f43d45be3bfbcf38e36ab87/kotlin-stdlib-common-1.3.50.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.yaml/snakeyaml/1.25/8b6e01ef661d8378ae6dd7b511a7f2a33fae1421/snakeyaml-1.25.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.springframework/spring-jcl/5.2.0.RELEASE/59b53ab6f01dd3ba85875b61a284c161584c18a3/spring-jcl-5.2.0.RELEASE.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-http2/4.1.42.Final/819e7b5f2005770cf7558c04276fff080331c6df/netty-codec-http2-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-handler-proxy/4.1.42.Final/7b816d9f37ddcb68f6c1b9b0d7b5a98bfac40911/netty-handler-proxy-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-http/4.1.42.Final/5f71267aa784d0e6c5ec09fb988339d244b205a0/netty-codec-http-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-handler/4.1.42.Final/fc6546be5df552d9729f008d8d41a6dee28127aa/netty-handler-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport-native-epoll/4.1.42.Final/d8dbcd33944fe1918b536952abbcf33f9ebf2f4/netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.jboss.logging/jboss-logging/3.4.1.Final/40fd4d696c55793e996d1ff3c475833f836c2498/jboss-logging-3.4.1.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.ongres.scram/common/2.1/43dfdba15afc165a2a5da75f3ef1a2f5f7300f61/common-2.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.fasterxml/classmate/1.5.0/bc2d1d55f28e6dc0801d86cbd195debd81090d33/classmate-1.5.0.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.2.3/864344400c3d4d92dfeb0a305dc87d953677c03c/logback-core-1.2.3.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.12.1/a55e6d987f50a515c9260b0451b4fa217dc539cb/log4j-api-2.12.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-socks/4.1.42.Final/dd355f01dc00f93aaebe805b05026d7cf57c60ec/netty-codec-socks-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec/4.1.42.Final/b1d5ed85a558fbbadc2783f869fbd0adcd32b07b/netty-codec-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport-native-unix-common/4.1.42.Final/344ff6fc05315233f0db5d86f94e8a3b5799b995/netty-transport-native-unix-common-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport/4.1.42.Final/857502e863c02c829fdafea61c3fda6bda01d0af/netty-transport-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-buffer/4.1.42.Final/6e6fc9178d1f1401aa0d6b843341efb91720f2cd/netty-buffer-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-resolver/4.1.42.Final/ccaacf418a9e486b65e82c47bed66439119c5fdb/netty-resolver-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.ongres.stringprep/saslprep/1.1/eaf05b6446126f95de2f183b91751a854c2fc0bc/saslprep-1.1.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/io.netty/netty-common/4.1.42.Final/e02700b574d3a0e2100308f971f0753ac8700e7c/netty-common-4.1.42.Final.jar:/home/rpa/.gradle/caches/modules-2/files-2.1/com.ongres.stringprep/stringprep/1.1/9149e6d6f97be4c2b641c89ea569cb4fde872972/stringprep-1.1.jar com.example.jwttest.JwtTestApplicationKt

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.0.RELEASE)

2019-11-11 21:57:14.058  INFO 26500 --- [           main] c.example.jwttest.JwtTestApplicationKt   : Starting JwtTestApplicationKt on UbuntuMachine with PID 26500 (/home/rpa/IdeaProjects/jwt-test/out/production/classes started by rpa in /home/rpa/IdeaProjects/jwt-test)
2019-11-11 21:57:14.061  INFO 26500 --- [           main] c.example.jwttest.JwtTestApplicationKt   : No active profile set, falling back to default profiles: default
2019-11-11 21:57:14.673  INFO 26500 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-11-11 21:57:14.723  INFO 26500 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 1 repository interfaces.
2019-11-11 21:57:15.881  INFO 26500 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port(s): 8077
2019-11-11 21:57:15.885  INFO 26500 --- [           main] c.example.jwttest.JwtTestApplicationKt   : Started JwtTestApplicationKt in 2.111 seconds (JVM running for 2.626)
2019-11-11 21:57:15.886  INFO 26500 --- [           main] c.e.j.listener.ApplicationReadyListener  : Start generating key pairs ...
2019-11-11 21:57:16.271  INFO 26500 --- [           main] c.e.j.listener.ApplicationReadyListener  : Generating key pairs completed
2019-11-11 21:57:18.346  INFO 26500 --- [or-http-epoll-3] c.e.j.r.SecurityContextRepository        : [SecurityContextRepository] fun load(exchange: ServerWebExchange): Mono<SecurityContext> method
2019-11-11 21:57:18.346  INFO 26500 --- [or-http-epoll-3] c.e.j.r.SecurityContextRepository        : exchange.getPrincipal<Principal>() = MonoEmpty
2019-11-11 21:57:18.347  INFO 26500 --- [or-http-epoll-3] c.e.j.r.SecurityContextRepository        : [SecurityContextRepository] val auth: Authentication = UsernamePasswordAuthenticationToken(token, token) is: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1f: Principal: eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhMGVlYmM5OS05YzBiLTRlZjgtYmI2ZC02YmI5YmQzODBhMTEiLCJyb2xlcyI6WyJST0xFX1VTRVIiXSwiaWF0IjoxNTczNTA1NTc0LCJleHAiOjE1NzM1NDE1NzR9.htSNngy5ZqvsEXl0hmWm1oVtGYM5uRpeIh_joyfjdpHTecIgyk7ohjzVi4wxwSNyHA_QuM74iwinu0OBypCEaw9o7W_4iaagqVSNicqgnD5AOqJ1UVKYm-KfVxZ9UgQ-GsVuVKjLWr_QvgTJLawEnDsu7f8Mc9HpTDpMDLI6A-GRN0Wq5Xg6vkJtWiMtOzv13rk6dATcxeFRiHhI6kKZ-9ouSt-S_uBU6wHEFLnNg6KqdKpxsgqE9wiI2vgdfxfU-GXXyvRYTVzg4lsesbyYA0Ggkzxw5AtHTCBn3NCClbdr-j3R6nAxIFiwLm1AylENRls2XDoZ1qbai1d9VYqq0A; Credentials: [PROTECTED]; Authenticated: false; Details: null; Not granted any authorities
2019-11-11 21:57:18.347  INFO 26500 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] fun authenticate(authentication: Authentication): Mono<Authentication> method
2019-11-11 21:57:18.347  INFO 26500 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] token = eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhMGVlYmM5OS05YzBiLTRlZjgtYmI2ZC02YmI5YmQzODBhMTEiLCJyb2xlcyI6WyJST0xFX1VTRVIiXSwiaWF0IjoxNTczNTA1NTc0LCJleHAiOjE1NzM1NDE1NzR9.htSNngy5ZqvsEXl0hmWm1oVtGYM5uRpeIh_joyfjdpHTecIgyk7ohjzVi4wxwSNyHA_QuM74iwinu0OBypCEaw9o7W_4iaagqVSNicqgnD5AOqJ1UVKYm-KfVxZ9UgQ-GsVuVKjLWr_QvgTJLawEnDsu7f8Mc9HpTDpMDLI6A-GRN0Wq5Xg6vkJtWiMtOzv13rk6dATcxeFRiHhI6kKZ-9ouSt-S_uBU6wHEFLnNg6KqdKpxsgqE9wiI2vgdfxfU-GXXyvRYTVzg4lsesbyYA0Ggkzxw5AtHTCBn3NCClbdr-j3R6nAxIFiwLm1AylENRls2XDoZ1qbai1d9VYqq0A
2019-11-11 21:57:18.397  INFO 26500 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] username from token's Claims: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
2019-11-11 21:57:18.397  INFO 26500 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] roles from token's Claims: [ROLE_USER]
2019-11-11 21:57:18.397  INFO 26500 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : [AuthenticationManager] val auth: UsernamePasswordAuthenticationToken = UsernamePasswordAuthenticationToken(username, username, authorities):
2019-11-11 21:57:18.397  INFO 26500 --- [or-http-epoll-3] c.e.j.core.config.AuthenticationManager  : org.springframework.security.authentication.UsernamePasswordAuthenticationToken@441d0230: Principal: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-11-11 21:57:18.429  INFO 26500 --- [or-http-epoll-3] c.e.jwttest.handler.ApplicationHandler   : [ApplicationHandler] fun get(request: ServerRequest): Mono<ServerResponse> method:
2019-11-11 21:57:18.429  INFO 26500 --- [or-http-epoll-3] c.e.jwttest.handler.ApplicationHandler   : [ApplicationHandler] SecurityContextHolder.getContext().authentication = org.springframework.security.authentication.UsernamePasswordAuthenticationToken@441d0230: Principal: a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2019-11-11 21:57:18.429  INFO 26500 --- [or-http-epoll-3] c.e.jwttest.handler.ApplicationHandler   : [ApplicationHandler] SecurityContextHolder.getContext().authentication.principal = a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
2019-11-11 21:57:18.429  INFO 26500 --- [or-http-epoll-3] c.e.jwttest.handler.ApplicationHandler   : [ApplicationHandler] ReactiveSecurityContextHolder.getContext() .map { sc -> sc.authentication.principal} = MonoMapFuseable

a tu ok bo role user chcialo w security config...



